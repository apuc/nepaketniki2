"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Shared=function e(){_classCallCheck(this,e)},BASE_URL="https://np.craft-group.xyz",currentPage=1,pages=1,sliding=!1,pageHasDifferences=null,currentPageBlock=document.getElementById("currentPage"),pagesBlock=document.getElementById("pages"),prevPageButton=document.getElementById("prevPage"),nextPageButton=document.getElementById("nextPage"),commentsList=document.getElementById("commentsList"),comments=[],visibleComments=[],request=new XMLHttpRequest,url=BASE_URL+"/review_download";function prevPage(){var e;0<currentPage-1&&!sliding&&(sliding=!0,(e=document.querySelectorAll('.comments-comment:not([style*="display: none"])')).forEach(function(e){return e.classList.toggle("fading-prev")}),setTimeout(function(){e.forEach(function(e){return e.classList.toggle("fading-prev")}),e.forEach(function(e){return e.style.display="none"}),--currentPage,currentPageBlock.innerHTML=currentPage,comments.slice(3*currentPage-3,3*currentPage).forEach(function(e,n){return renderComment(e,n)}),(e=document.querySelectorAll('.comments-comment:not([style*="display: none"])')).forEach(function(e){return e.classList.toggle("appearing-prev")}),sliding=!1,setTimeout(function(){e.forEach(function(e){return e.classList.toggle("appearing-prev")})},300)},300))}function nextPage(){var e;currentPage+1<=pages&&!sliding&&(sliding=!0,(e=document.querySelectorAll('.comments-comment:not([style*="display: none"])')).forEach(function(e){return e.classList.toggle("fading-next")}),setTimeout(function(){e.forEach(function(e){return e.classList.toggle("fading-next")}),e.forEach(function(e){return e.style.display="none"}),currentPage+=1,currentPageBlock.innerHTML=currentPage,comments.slice(3*currentPage-3,3*currentPage).forEach(function(e,n){return renderComment(e,n)}),(e=document.querySelectorAll('.comments-comment:not([style*="display: none"])')).forEach(function(e){return e.classList.toggle("appearing-next")}),sliding=!1,setTimeout(function(){e.forEach(function(e){return e.classList.toggle("appearing-next")})},300)},300))}function renderComment(e,n){if(e.name){var t="";n%3!=0&&(0!==t.length&&(t+=" "),t+="mobile-hidden"),n%3!=1&&currentPage!==pageHasDifferences&&(0!==t.length&&(t+=" "),t+="upper");for(var s="",r=0;r<e.instagramLinks.length;r++){var a=e.instagramLinks[r],o="http::/instagram.com/"+a;s+=0===n?"\n                <a class='comment__link' href="+o+">"+a+"</a>\n            ":"\n                <span class='comment__link-breaker'>|</span>\n                <a class='comment__link' href="+o+">"+a+"</a>\n            "}var c="\n        <div class='comments-comment "+t+"'>\n            <div class='comments-comment__border-inside'></div>\n            <div class='comment__main'>\n                <h4 class='comment__name'>"+e.name+"</h4>\n                <div class='comment__instagram'>\n                    <i class='fa fa-instagram'></i>\n                    "+s+"\n                </div>\n                <p class='comment__text'>\n                    "+e.text+"\n                </p>\n            </div>\n            <img class='comment__avatar' src="+e.avatar+" alt='' />\n        </div>\n    ";commentsList.innerHTML+=c}}request.open("GET",url),request.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),request.addEventListener("readystatechange",function(){var e;4===request.readyState&&200===request.status&&((comments=JSON.parse(request.response)).map(function(e){return e.instagramLinks=e.instagramLinks.split(", "),e}),pages=0<Math.ceil(comments.length/3)?Math.ceil(comments.length/3):1,pagesBlock.innerHTML=pages,comments.length<3*pages&&(e=3*pages-comments.length,pageHasDifferences=pages,comments=[].concat(_toConsumableArray(comments),_toConsumableArray(Array.from(Array(e),function(e){return{}})))),(visibleComments=comments.slice(3*currentPage-3,3*currentPage)).forEach(function(e,n){return renderComment(e,n)}))}),request.send(),currentPageBlock.innerHTML=currentPage,pagesBlock.innerHTML=pages,prevPageButton.addEventListener("click",prevPage),nextPageButton.addEventListener("click",nextPage);var menu=document.getElementById("menu"),menuIcon=document.getElementById("menuIcon"),menuList=document.getElementById("menuList"),menuNav=document.getElementById("headerNavInfo"),menuIsOpened=!1,menuListIsOpened=!1;function openList(e){menuListIsOpened=!0,menuList.style.display="block",e&&(menu.classList.toggle("menu--opened"),menuIcon.classList.toggle("icon--opened"))}function closeList(e){menuListIsOpened=!1,menuList.style.display="none",e&&(menu.classList.toggle("menu--opened"),menuIcon.classList.toggle("icon--opened"))}function openMenu(){menu.style.display="block",menuNav.style.display="none",menuIsOpened=!0}function closeMenu(e){menu.style.display="none",menuNav.style.display="flex",menuIsOpened=!1,closeList(e)}document.addEventListener("DOMContentLoaded",function(){676<window.innerWidth?closeMenu(!1):(menu.style.display="block",menuNav.style.display="none",closeList(!(menuIsOpened=!0)))}),window.addEventListener("resize",function(){menuIsOpened&&676<window.innerWidth?closeMenu(menuListIsOpened):!menuIsOpened&&window.innerWidth<=676&&openMenu()}),menuIcon.addEventListener("click",function(){(menuListIsOpened?closeList:openList)(!0)}),menuList.addEventListener("click",function(){closeList(!0)});
//# sourceMappingURL=script.js.map
