{"version":3,"sources":["script.js","-single-tour-plan-item/-single-tour-plan-item.js","comments/comments.js","menu/menu.js"],"names":["Shared","_classCallCheck","this","BASE_URL","window","location","origin","Slider","_ref","currentPageBlockId","pagesBlockId","prevPageButtonId","nextPageButtonId","elementsListId","getLink","parser","filter","sorter","renderInner","elementClass","currentPage","pages","sliding","pageHasDifferences","currentPageBlock","document","getElementById","pagesBlock","prevPageButton","nextPageButton","elementsList","elements","visibleElements","request","url","_this","XMLHttpRequest","open","setRequestHeader","addEventListener","elementsLeft","readyState","status","JSON","parse","response","map","sort","Math","ceil","length","innerHTML","style","display","prevPage","bind","nextPage","concat","_toConsumableArray","Array","from","_","slice","forEach","element","index","renderElement","send","elementBlocks","_this2","querySelectorAll","block","classList","toggle","setTimeout","_this3","resultInner","URL_Info","href","split","createSliders","dayNumbers","days","sliderIds","sliders","i","day","max","apply","id","getSliderProps","slider","createRequest","makeRequest","number","image","classes","renderComment","comment","name","linksInner","instagramLinks","link","resultLink","text","avatar","createCommentsSlider","commentsSlider","indexOf","tour_id","c1","c2","priority","menu","menuIcon","menuList","menuNav","menuIsOpened","menuListIsOpened","openList","mode","closeList","openMenu","closeMenu","innerWidth"],"mappings":"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","file":"script.js","sourcesContent":["class Shared {\r\n    constructor() {}\r\n}\r\n\r\nconst BASE_URL = window.location.origin;\r\n\r\nclass Slider {\r\n    constructor({ currentPageBlockId, pagesBlockId, prevPageButtonId, nextPageButtonId, elementsListId, \r\n            getLink, parser, filter, sorter, renderInner, elementClass }) {\r\n\r\n        this.currentPage = 1;\r\n        this.pages = 1;\r\n        this.sliding = false;\r\n        this.pageHasDifferences = null;\r\n\r\n        this.currentPageBlock = document.getElementById(currentPageBlockId);\r\n        this.pagesBlock = document.getElementById(pagesBlockId);\r\n\r\n        this.prevPageButton = document.getElementById(prevPageButtonId);\r\n        this.nextPageButton = document.getElementById(nextPageButtonId);\r\n\r\n        this.elementsList = document.getElementById(elementsListId);\r\n\r\n        this.elements = [];\r\n        this.visibleElements = [];\r\n\r\n        this.request = null;\r\n        this.url = null;\r\n        this.getLink = getLink;\r\n\r\n        this.parser = parser;\r\n        this.filter = filter;\r\n        this.sorter = sorter;\r\n\r\n        this.renderInner = renderInner;\r\n        this.elementClass = elementClass;\r\n    }\r\n\r\n    createRequest() {\r\n        this.request = new XMLHttpRequest();\r\n        this.url = `${BASE_URL}/${this.getLink()}`;\r\n        this.request.open('GET', this.url);\r\n        this.request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\r\n\r\n        this.request.addEventListener(\"readystatechange\", () => {\r\n            if (this.request.readyState === 4 && this.request.status === 200) {\r\n                this.elements = JSON.parse(this.request.response);\r\n                if(this.parser) {\r\n                    this.elements = this.elements.map(this.parser);\r\n                };\r\n                if(this.filter) {\r\n                    this.elements = this.elements.filter(this.filter);\r\n                };\r\n                if(this.sorter) {\r\n                    this.elements = this.elements.sort(this.sorter);\r\n                };\r\n                this.pages = Math.ceil(this.elements.length / 3) > 0 ? Math.ceil(this.elements.length / 3) : 1;\r\n                if(this.pagesBlock) {\r\n                    this.pagesBlock.innerHTML = this.pages;\r\n                }\r\n                if(this.pages <= 1) {\r\n                    this.prevPageButton.style.display = 'none';\r\n                    this.nextPageButton.style.display = 'none';\r\n                } else {\r\n                    this.prevPageButton.addEventListener('click', this.prevPage.bind(this));\r\n                    this.nextPageButton.addEventListener('click', this.nextPage.bind(this));\r\n                }\r\n                if(this.elements.length < this.pages*3) {\r\n                    const elementsLeft = this.pages*3-this.elements.length;\r\n                    this.pageHasDifferences = this.pages;\r\n                    this.elements = [...this.elements, ...Array.from(Array(elementsLeft), (_) => { return {} })];\r\n                }\r\n                this.visibleElements = this.elements.slice(this.currentPage*3-3, this.currentPage*3);\r\n                this.visibleElements.forEach((element,index) => this.renderElement(element, index, this.currentPage, this.pageHasDifferences));\r\n            };\r\n        }); \r\n    }\r\n\r\n    makeRequest() {\r\n        this.request.send(); \r\n\r\n        if(this.currentPageBlock && this.pagesBlock) {\r\n            this.currentPageBlock.innerHTML = this.currentPage;\r\n            this.pagesBlock.innerHTML = this.pages;\r\n        }\r\n    }\r\n\r\n    prevPage() {\r\n        if(this.currentPage-1 > 0 && !this.sliding) {\r\n            this.sliding = true;\r\n            \r\n            let elementBlocks = document.querySelectorAll(`.${this.elementClass}:not([style*=\"display: none\"])`);\r\n            elementBlocks.forEach(block => block.classList.toggle('fading-prev'));\r\n    \r\n            setTimeout( () => {\r\n                elementBlocks.forEach(block => block.classList.toggle('fading-prev'));\r\n                elementBlocks.forEach(block => block.style.display='none');\r\n                this.currentPage -= 1;\r\n                if(this.currentPageBlock) {\r\n                    this.currentPageBlock.innerHTML = this.currentPage;\r\n                }\r\n                this.visibleElements = this.elements.slice(this.currentPage*3-3, this.currentPage*3);\r\n                this.visibleElements.forEach((element,index) => this.renderElement(element, index, this.currentPage, this.pageHasDifferences));\r\n    \r\n                elementBlocks = document.querySelectorAll(`.${this.elementClass}:not([style*=\"display: none\"])`);\r\n                elementBlocks.forEach(block => block.classList.toggle('appearing-prev'));\r\n                this.sliding = false;\r\n                setTimeout( () => {\r\n                    elementBlocks.forEach(block => block.classList.toggle('appearing-prev'));\r\n                }, 300);\r\n            }, 300);\r\n        };\r\n    };\r\n\r\n    nextPage() {\r\n        if(this.currentPage + 1 <= this.pages && !this.sliding) {\r\n            this.sliding = true;\r\n            \r\n            let elementBlocks = document.querySelectorAll(`.${this.elementClass}:not([style*=\"display: none\"])`);\r\n            elementBlocks.forEach(block => block.classList.toggle('fading-next'));\r\n    \r\n            setTimeout( () => {\r\n                elementBlocks.forEach(block => block.classList.toggle('fading-next'));\r\n                elementBlocks.forEach(block => block.style.display='none');\r\n                this.currentPage += 1;\r\n                if(this.currentPageBlock) {\r\n                    this.currentPageBlock.innerHTML = this.currentPage;\r\n                }\r\n                this.visibleElements = this.elements.slice(this.currentPage*3-3, this.currentPage*3);\r\n                this.visibleElements.forEach((element,index) => this.renderElement(element, index, this.currentPage, this.pageHasDifferences));\r\n    \r\n                elementBlocks = document.querySelectorAll(`.${this.elementClass}:not([style*=\"display: none\"])`);\r\n                elementBlocks.forEach(block => block.classList.toggle('appearing-next'));\r\n                this.sliding = false;\r\n                setTimeout( () => {\r\n                    elementBlocks.forEach(block => block.classList.toggle('appearing-next'));\r\n                }, 300);\r\n            }, 300);\r\n        };\r\n    };\r\n\r\n    renderElement(element, index, currentPage, pageHasDifferences) {\r\n        const resultInner = this.renderInner(element, index, currentPage, pageHasDifferences);\r\n        this.elementsList.innerHTML += resultInner;\r\n    }\r\n}\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    if(window.location.href.indexOf(`/tour/`) !== -1) {\r\n        createSliders();\r\n    }\r\n\r\n    createCommentsSlider();\r\n})","function getLink() {\r\n    const URL = window.location.href;\r\n    const URL_Info = URL.split('/');\r\n    const tourId = URL_Info[URL_Info.length-1];\r\n    return 'tour/plan_photos/'+tourId;\r\n}\r\n\r\nfunction createSliders() {\r\n    const request = new XMLHttpRequest();\r\n    const url = `${BASE_URL}/${getLink()}`;\r\n    request.open('GET', url);\r\n    request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\r\n\r\n    request.addEventListener(\"readystatechange\", () => {\r\n        if (request.readyState === 4 && request.status === 200) {\r\n            \r\n            const items = JSON.parse(request.response);\r\n            \r\n            const dayNumbers = items.map(i => i.day);\r\n\r\n            const days = Math.max.apply(Math, dayNumbers);\r\n            const sliderIds = Array.from(Array(days), (_, index) => { return index+1 });\r\n            const sliders = Array.from(Array(sliderIds), (_) => { return {} });\r\n\r\n            sliderIds.map(id => {\r\n                sliders[id-1] = new Slider(getSliderProps(id));\r\n            });\r\n\r\n            sliders.map(slider => {\r\n                slider.createRequest();\r\n                slider.makeRequest();\r\n            })\r\n        }\r\n    });\r\n\r\n    request.send();\r\n}\r\n\r\nfunction getSliderProps(number) {\r\n    return {\r\n        prevPageButtonId: 'singleTourPlanPrevPage-'+number,\r\n        nextPageButtonId: 'singleTourPlanNextPage-'+number,\r\n        elementsListId: 'singleTourPlanPhotos-'+number,\r\n        getLink,\r\n        renderInner: function renderInner(element, index) {\r\n            if(!element.image) {\r\n                return '';\r\n            }\r\n            var classes = ''\r\n            if(index > 1) {\r\n                if(classes.length !== 0) \r\n                    classes += ' '\r\n                classes += 'mobile-hidden'\r\n            };\r\n        \r\n            let resultInner = `\r\n                <div class='-single-tour-plan-item__photos-item -single-tour-plan-item__photos-item-${number}'>\r\n                    <img src='${element.image}' alt=\"\" class='.-single-tour-plan-item__photo' />\r\n                </div>\r\n                `;\r\n\r\n            return resultInner;\r\n        \r\n        },\r\n        filter: function filter(element) {\r\n            return element.day === number;\r\n        },\r\n        elementClass: '-single-tour-plan-item__photos-item-'+number,\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","function renderComment(comment, index, currentPage, pageHasDifferences) {\r\n    if(!comment.name) {\r\n        return'';\r\n    }\r\n    var classes = ''\r\n    if( index%3 !== 0) {\r\n        if(classes.length !== 0) \r\n            classes += ' '\r\n        classes += 'mobile-hidden'\r\n    };\r\n    if( index%3 !== 1 && currentPage !== pageHasDifferences) {\r\n        if(classes.length !== 0) \r\n            classes += ' '\r\n        classes += 'upper'\r\n    };\r\n\r\n    let linksInner = '';\r\n    for(let i = 0; i < comment.instagramLinks.length; i++) {\r\n        let link = comment.instagramLinks[i];\r\n        var resultLink = 'http::/instagram.com/' + link;\r\n        if(index === 0) {\r\n            linksInner += `\r\n                <a class='comment__link' href=${resultLink}>${link}</a>\r\n            `;\r\n        } else\r\n            linksInner += `\r\n                <span class='comment__link-breaker'>|</span>\r\n                <a class='comment__link' href=${resultLink}>${link}</a>\r\n            `;\r\n        };\r\n\r\n    let resultInner = `\r\n        <div class='comments-comment ${classes}'>\r\n            <div class='comments-comment__border-inside'></div>\r\n            <div class='comment__main'>\r\n                <h4 class='comment__name'>${comment.name}</h4>\r\n                <div class='comment__instagram'>\r\n                    <i class='fa fa-instagram'></i>\r\n                    ${linksInner}\r\n                </div>\r\n                <p class='comment__text'>\r\n                    ${comment.text}\r\n                </p>\r\n            </div>\r\n            <img class='comment__avatar' src=${comment.avatar} alt='' />\r\n        </div>\r\n    `;\r\n\r\n    return resultInner;\r\n\r\n}\r\n\r\nfunction createCommentsSlider() {\r\n    const commentsSlider = new Slider({\r\n        currentPageBlockId: 'commentsCurrentPage',\r\n        pagesBlockId: 'commentsPages',\r\n        prevPageButtonId: 'commentsPrevPage',\r\n        nextPageButtonId: 'commentsNextPage',\r\n        elementsListId: 'commentsList',\r\n        getLink: function getLink() {\r\n            return 'reviews_download';\r\n        },\r\n        parser: comment => {\r\n            comment.instagramLinks = comment.instagramLinks.split(', ');\r\n            return comment;\r\n        },\r\n        filter: comment => {\r\n\r\n            if(window.location.href.indexOf(`/tour/`)=== -1) {\r\n                return true;\r\n            }\r\n\r\n            return window.location.href.indexOf(`/tour/${comment.tour_id}` )!== -1\r\n        },\r\n        sorter: (c1, c2) => {\r\n            return c2.priority - c1.priority;\r\n        },\r\n        renderInner: renderComment,\r\n        elementClass: 'comments-comment',\r\n    });\r\n\r\n    commentsSlider.createRequest();\r\n    commentsSlider.makeRequest();\r\n}","var menu = document.getElementById('menu');\r\nvar menuIcon = document.getElementById('menuIcon');\r\nvar menuList = document.getElementById('menuList');\r\nvar menuNav = document.getElementById('headerNavInfo');\r\n\r\nvar menuIsOpened = false\r\nvar menuListIsOpened = false;\r\n\r\nfunction openList(mode) {\r\n    menuListIsOpened = true;\r\n    menuList.style.display = 'block';\r\n    if(mode) {\r\n        menu.classList.toggle('menu--opened');\r\n        menuIcon.classList.toggle('icon--opened');\r\n    }\r\n}\r\n\r\nfunction closeList(mode) {\r\n    menuListIsOpened = false;\r\n    menuList.style.display = 'none';\r\n    if(mode) {\r\n        menu.classList.toggle('menu--opened');\r\n        menuIcon.classList.toggle('icon--opened');\r\n    }\r\n}\r\n\r\nfunction openMenu() {\r\n    menu.style.display = 'block';\r\n    menuNav.style.display = 'none';\r\n    menuIsOpened = true;\r\n}\r\n\r\nfunction closeMenu(mode) {\r\n    menu.style.display = 'none';\r\n    menuNav.style.display = 'flex';\r\n    menuIsOpened = false;\r\n    closeList(mode);\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    if(window.innerWidth > 676) {\r\n        closeMenu(false)\r\n    } else {\r\n        menu.style.display = 'block';\r\n        menuNav.style.display = 'none';\r\n        menuIsOpened = true;\r\n        closeList(false);\r\n    }\r\n})\r\n\r\nwindow.addEventListener('resize', () => {\r\n    if(menuIsOpened && window.innerWidth > 676) {\r\n        closeMenu(menuListIsOpened)\r\n    } else if (!menuIsOpened && window.innerWidth <= 676) {\r\n        openMenu()\r\n    }\r\n})\r\n\r\nmenuIcon.addEventListener('click', () => {\r\n    if(menuListIsOpened) {\r\n        closeList(true)\r\n    } else {\r\n        openList(true)\r\n    }\r\n})\r\n\r\nmenuList.addEventListener('click', () => {\r\n    closeList(true)\r\n})"]}